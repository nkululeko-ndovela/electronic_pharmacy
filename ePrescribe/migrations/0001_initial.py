# Generated by Django 3.2.15 on 2022-11-08 18:09

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ActiveIngredients',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='City',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(blank=True, default='1', null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ContraIndication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('exemption', models.CharField(choices=[('None', 'None'), ('Relative', 'Relative '), ('Absolute', 'Absolute '), ('Temporary', 'Temporary ')], default='None', max_length=20)),
                ('start_date', models.DateField()),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, related_name='adminMedInt', to=settings.AUTH_USER_MODEL)),
                ('medicine_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.activeingredients')),
            ],
        ),
        migrations.CreateModel(
            name='Doctor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('surname', models.CharField(max_length=200)),
                ('contact_number', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=200)),
                ('qualification', models.CharField(max_length=200)),
                ('practice_number', models.CharField(max_length=20)),
                ('hc_reg_number', models.CharField(max_length=20)),
                ('username', models.CharField(max_length=200)),
                ('password', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='admin_doctor', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Dosage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ICD10',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ICD10_code', models.CharField(max_length=20)),
                ('diagnosis', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='MedicalRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('strength', models.IntegerField(default='0')),
                ('units', models.CharField(choices=[('mg', 'mg'), ('g', 'g ')], default='1', max_length=5)),
                ('schedule', models.CharField(choices=[('1', '1'), ('2', '2'), ('3', '3'), ('4', '4'), ('5', '5'), ('6', '6')], default='1', max_length=5)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('active_ingridients', models.ForeignKey(default='1', on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.activeingredients')),
                ('admin', models.ForeignKey(default='1', on_delete=django.db.models.deletion.CASCADE, related_name='MRadmin', to=settings.AUTH_USER_MODEL)),
                ('disease_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.icd10')),
                ('doctor', models.ForeignKey(default='1', on_delete=django.db.models.deletion.CASCADE, related_name='MRdoctor', to=settings.AUTH_USER_MODEL)),
                ('dosage_form', models.ForeignKey(default='tablet', on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.dosage')),
            ],
        ),
        migrations.CreateModel(
            name='Medication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('strength', models.IntegerField(default='0')),
                ('units', models.CharField(choices=[('mg', 'mg'), ('g', 'g ')], default='1', max_length=5)),
                ('schedule', models.CharField(choices=[('1', '1'), ('2', '2'), ('3', '3'), ('4', '4'), ('5', '5'), ('6', '6')], default='1', max_length=5)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('active_ingridients', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.activeingredients')),
                ('dosage_form', models.ForeignKey(default='Tablet', on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.dosage')),
            ],
        ),
        migrations.CreateModel(
            name='Patient',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('username', models.CharField(max_length=200)),
                ('password', models.CharField(max_length=200)),
                ('surname', models.CharField(max_length=200)),
                ('id_number', models.CharField(max_length=20)),
                ('address', models.CharField(max_length=200)),
                ('postal_code', models.CharField(max_length=5)),
                ('contact_number', models.CharField(max_length=12, unique=True, validators=[django.core.validators.RegexValidator])),
                ('email', models.EmailField(max_length=200)),
                ('dob', models.DateField()),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('gender', models.CharField(choices=[('male', 'Male'), ('female', 'Female')], default='Male', max_length=6)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, related_name='admin', to=settings.AUTH_USER_MODEL)),
                ('city', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.city')),
            ],
        ),
        migrations.CreateModel(
            name='Pharmacist',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('surname', models.CharField(max_length=200)),
                ('contact_number', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=200)),
                ('reg_number', models.CharField(max_length=200)),
                ('username', models.CharField(max_length=200)),
                ('password', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, related_name='pharm_admin', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Pharmacy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('address', models.CharField(max_length=200)),
                ('postal_code', models.CharField(max_length=5)),
                ('contact_number', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=200)),
                ('license_number', models.CharField(max_length=20)),
                ('pharmacist_name', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, related_name='pharmacyAdmin', to=settings.AUTH_USER_MODEL)),
                ('city', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.city')),
            ],
        ),
        migrations.CreateModel(
            name='Suburb',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('postal_code', models.CharField(max_length=10)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='11', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('city', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.city')),
            ],
        ),
        migrations.CreateModel(
            name='Reject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reason', models.CharField(max_length=250)),
                ('date', models.DateTimeField(default=django.utils.timezone.now)),
                ('contra_indication', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.contraindication')),
                ('medical_record', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.medicalrecord')),
                ('pharmacist', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('pharmacy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.pharmacy')),
            ],
        ),
        migrations.CreateModel(
            name='Province',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Prescription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('id_number', models.CharField(max_length=20)),
                ('repeat', models.IntegerField(default='0')),
                ('repeat_left', models.CharField(default='0', max_length=2)),
                ('quantity', models.IntegerField(default='1')),
                ('comment', models.TextField(max_length=200)),
                ('dispensed_date', models.DateField(blank=True, null=True)),
                ('comment2', models.CharField(default='', max_length=200)),
                ('status', models.CharField(choices=[('dispensed', 'Dispensed'), ('prescribed', 'Prescribed'), ('rejected', 'Rejected')], default='prescribed', max_length=10)),
                ('doctor', models.ForeignKey(default='1', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('dosage_form', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.dosage')),
                ('medication', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.medication')),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.patient')),
                ('pharmacist', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.pharmacist')),
                ('pharmacy', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.pharmacy')),
            ],
        ),
        migrations.AddField(
            model_name='pharmacy',
            name='province',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.province'),
        ),
        migrations.AddField(
            model_name='pharmacy',
            name='suburb',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.suburb'),
        ),
        migrations.AddField(
            model_name='pharmacist',
            name='pharmacy',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.pharmacy'),
        ),
        migrations.AddField(
            model_name='patient',
            name='province',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.province'),
        ),
        migrations.AddField(
            model_name='patient',
            name='suburb',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.suburb'),
        ),
        migrations.CreateModel(
            name='MedPractice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('address', models.CharField(max_length=200)),
                ('postal_code', models.CharField(max_length=5)),
                ('contact_number', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=200)),
                ('reference', models.CharField(max_length=20, unique=True)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('city', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.city')),
                ('province', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.province')),
                ('suburb', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.suburb')),
            ],
        ),
        migrations.AddField(
            model_name='medicalrecord',
            name='medication_name',
            field=models.ForeignKey(blank=True, default='', null=True, on_delete=django.db.models.deletion.PROTECT, to='ePrescribe.medication'),
        ),
        migrations.AddField(
            model_name='medicalrecord',
            name='patient_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.patient'),
        ),
        migrations.CreateModel(
            name='MedicalInteractions',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reasons', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('admin', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('doctor_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.doctor')),
                ('medicine_id1', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='medicine1', to='ePrescribe.activeingredients')),
                ('medicine_id2', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.activeingredients')),
                ('patient_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.patient')),
            ],
        ),
        migrations.CreateModel(
            name='MedicalHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('drug_allergies', models.CharField(max_length=200)),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('chronic_med_hist', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.icd10')),
                ('current_chronic_med', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.activeingredients')),
                ('doctor', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('patient', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.patient')),
            ],
        ),
        migrations.AddField(
            model_name='doctor',
            name='med_practice',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.medpractice', to_field='reference'),
        ),
        migrations.CreateModel(
            name='Dispense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=django.utils.timezone.now)),
                ('contra_indication', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.contraindication')),
                ('medical_record', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.medicalrecord')),
                ('pharmacist', models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('pharmacy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.pharmacy')),
            ],
        ),
        migrations.AddField(
            model_name='contraindication',
            name='patient_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.patient'),
        ),
        migrations.AddField(
            model_name='city',
            name='province',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ePrescribe.province'),
        ),
    ]
